import{j as e}from"./index-3FTAhQcu.js";import{r,u as y}from"./vendor-react-BHxUanFt.js";import{F as g,f as C,a as N}from"./index-fF0KaNX5.js";import{a as b}from"./axiosInstance-Bq-uIJjs.js";import{C as v,a as w,b as F,d as R,n as S,e as E,f as k,g as A,k as I,l as L}from"./vendor-coreui-DaIzHuu_.js";import"./vendor-redux-CSji-Y9p.js";import"./index-xsH4HHeE.js";const q=()=>{const[n,u]=r.useState(""),[l,s]=r.useState(""),[x,a]=r.useState("info"),[c,i]=r.useState(!1),h=y(),p="admin1229102",f=o=>{if(o.preventDefault(),i(!0),s(""),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){s("Please enter a valid email address"),a("danger"),i(!1);return}b.post("/general/forgot-password",{email:n},{headers:{Authorization:`Bearer ${p}`},withCredentials:!0}).then(t=>{t.data.message==="Reset link sent to your email"?(s("Reset link sent successfully! Check your email."),a("success"),setTimeout(()=>{h("/login")},2500)):(s("Failed to send reset link. Please try again."),a("danger"))}).catch(t=>{var m,d;console.error(t);const j=((d=(m=t.response)==null?void 0:m.data)==null?void 0:d.message)||"An error occurred. Please try again.";s(j),a("danger")}).finally(()=>{i(!1)})};return e.jsx(v,{className:"min-vh-100 d-flex align-items-center justify-content-center bg-light",children:e.jsx(w,{className:"w-100 justify-content-center",children:e.jsx(F,{md:6,lg:4,children:e.jsxs(R,{className:"shadow-lg border-0",children:[e.jsxs(S,{className:"bg-primary text-white text-center py-3",children:[e.jsx(g,{icon:C,size:"2x",className:"me-2"}),e.jsx("h4",{className:"d-inline align-middle",children:"Forgot Password"})]}),e.jsx(E,{className:"p-4",children:e.jsxs(k,{onSubmit:f,children:[l&&e.jsx(A,{color:x,className:"mb-3",children:l}),e.jsx("div",{className:"mb-3",children:e.jsx(I,{type:"email",placeholder:"Enter your email",floatingLabel:e.jsxs(e.Fragment,{children:[e.jsx(g,{icon:N,className:"me-2"}),"Email Address"]}),value:n,onChange:o=>u(o.target.value),required:!0})}),e.jsx(L,{type:"submit",color:"primary",className:"w-100",disabled:c,children:c?"Sending...":"Send Reset Link"}),e.jsx("div",{className:"text-center mt-3",children:e.jsx("a",{href:"/login",className:"text-decoration-none text-muted",children:"Remember your password? Login"})})]})})]})})})})};export{q as default};
