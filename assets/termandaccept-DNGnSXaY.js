import{j as e}from"./index-DsFxS9jr.js";import{r as o,d as S,u as Y}from"./vendor-react-BHxUanFt.js";import{a as b}from"./axiosInstance-Bq-uIJjs.js";import{F as s,i as m,j as C,h,k as z,l as A}from"./index-ByAwoHiW.js";import{C as u,a as p,b as x,d as g,n as j,e as y,l,g as v,r as R,m as k}from"./vendor-coreui-CLDxaGvm.js";import"./vendor-redux-CSji-Y9p.js";import"./index-xsH4HHeE.js";const q=()=>{const[f,d]=o.useState("pending"),[N,r]=o.useState(""),[c,n]=o.useState(!1),{id:a,token:t}=S(),w=Y();o.useEffect(()=>{(!a||!t)&&r("Invalid link. This terms acceptance link appears to be incomplete or expired.")},[a,t]);const T=async()=>{try{if(n(!0),!a||!t){r("User ID or token not found in the URL. Please use the link sent to your email."),n(!1);return}const i={userId:a,token:t};await b.post("/agreement/accept",i),d("accepted"),n(!1)}catch(i){console.error("Error accepting terms:",i),r("Failed to accept terms. The link may have expired or is invalid."),n(!1)}},I=async()=>{try{if(n(!0),!a||!t){r("User ID or token not found in the URL. Please use the link sent to your email."),n(!1);return}const i={userId:a,token:t};await b.post("/agreement/reject",i),d("rejected"),n(!1)}catch(i){console.error("Error rejecting terms:",i),r("Failed to record your rejection. The link may have expired or is invalid."),n(!1)}};return f==="accepted"?e.jsx(u,{className:"py-5",children:e.jsx(p,{className:"justify-content-center",children:e.jsx(x,{md:8,lg:6,children:e.jsxs(g,{className:"border-success shadow",children:[e.jsxs(j,{className:"bg-success text-white d-flex align-items-center",children:[e.jsx(s,{icon:m,size:"lg",className:"me-2"}),e.jsx("h2",{className:"mb-0",children:"Thank You!"})]}),e.jsxs(y,{className:"text-center p-5",children:[e.jsx(s,{icon:m,size:"5x",className:"text-success mb-4"}),e.jsx("h3",{children:"You have successfully accepted the Terms and Conditions."}),e.jsx("p",{className:"text-muted mt-3",children:"You can now access your Account."}),e.jsx(l,{color:"primary",onClick:()=>w("/login"),className:"mt-4",children:"Go to Login"})]})]})})})}):f==="rejected"?e.jsx(u,{className:"py-5",children:e.jsx(p,{className:"justify-content-center",children:e.jsx(x,{md:8,lg:6,children:e.jsxs(g,{className:"border-danger shadow",children:[e.jsxs(j,{className:"bg-danger text-white d-flex align-items-center",children:[e.jsx(s,{icon:C,size:"lg",className:"me-2"}),e.jsx("h2",{className:"mb-0",children:"Terms Rejected"})]}),e.jsxs(y,{className:"text-center p-5",children:[e.jsx(s,{icon:h,size:"5x",className:"text-danger mb-4"}),e.jsx("h3",{children:"You have rejected the Terms and Conditions"}),e.jsx("p",{className:"text-muted mt-3",children:"Some features of the application may be limited or unavailable."}),e.jsxs(l,{color:"secondary",className:"mt-4",onClick:()=>d("pending"),children:[e.jsx(s,{icon:z,className:"me-2"}),"Review Terms Again"]})]})]})})})}):e.jsx(u,{className:"py-4",children:e.jsx(p,{className:"justify-content-center",children:e.jsx(x,{children:e.jsxs(g,{className:"shadow-lg",children:[e.jsxs(j,{className:"bg-primary text-white d-flex align-items-center",children:[e.jsx(s,{icon:A,size:"lg",className:"me-2"}),e.jsx("h2",{className:"mb-0",children:"Terms and Conditions"})]}),e.jsxs(y,{children:[e.jsxs("div",{className:"border rounded p-4 mb-4",style:{height:"400px",overflowY:"scroll"},children:[e.jsx("h4",{className:"border-bottom pb-2 mb-3",children:"Acceptance of Terms and Conditions"}),e.jsx("p",{className:"mb-4",children:'By accessing and using the Freight Management System ("the System"), you acknowledge that you have read, understood, and agree to be bound by the following terms and conditions:'}),e.jsx("h5",{className:"text-primary",children:"1. Compliance with Laws"}),e.jsx("p",{className:"mb-4",children:"You agree to comply with all applicable laws, regulations, and internal company policies governing freight operations, transportation, logistics, and administrative management."}),e.jsx("h5",{className:"text-primary",children:"2. Accuracy of Information"}),e.jsx("p",{className:"mb-4",children:"You certify that all information you provide, including personal details, certifications, licenses, insurance documents, and incident reports, is true, accurate, and up-to-date. Falsification or omission may result in account suspension, legal action, or termination."}),e.jsx("h5",{className:"text-primary",children:"3. Certification and Documentation"}),e.jsx("p",{className:"mb-4",children:"You agree to maintain valid, active certifications and licenses as required by law and company policy. It is your responsibility to upload and update necessary documents within the System."}),e.jsx("h5",{className:"text-primary",children:"4. User Conduct"}),e.jsx("p",{className:"mb-4",children:"You agree to use the System responsibly, and not engage in activities that could result in violations, misconduct, or harm to the organization's operations, reputation, or legal standing."}),e.jsx("h5",{className:"text-primary",children:"5. Risk and Compliance Monitoring"}),e.jsx("p",{className:"mb-4",children:"You understand that the System tracks user activity, certifications, violations, and risk profiles to ensure legal and regulatory compliance. You consent to such monitoring and acknowledge that serious breaches may result in corrective actions or legal proceedings."}),e.jsx("h5",{className:"text-primary",children:"6. Confidentiality"}),e.jsx("p",{className:"mb-4",children:"You agree to maintain the confidentiality of all data accessed through the System and refrain from unauthorized disclosure or misuse."}),e.jsx("h5",{className:"text-primary",children:"7. Legal Holds and Investigations"}),e.jsx("p",{className:"mb-4",children:'You acknowledge that your access may be restricted ("legal hold") in the event of an internal investigation, legal dispute, regulatory inquiry, or other legal matters, as determined by the Administrative Department.'}),e.jsx("h5",{className:"text-primary",children:"8. Amendments to Terms"}),e.jsx("p",{className:"mb-4",children:"The organization reserves the right to modify these Terms and Conditions at any time. Continued use of the System after updates constitutes acceptance of the modified terms."}),e.jsx("p",{className:"mt-4",children:'By clicking "I Accept", you affirm that you have read, understood, and agree to these Terms and Conditions, and you consent to abide by all policies and procedures set forth herein.'})]}),N&&e.jsxs(v,{color:"danger",className:"d-flex align-items-center mb-4",children:[e.jsx(s,{icon:h,size:"lg",className:"me-2"}),N]}),(!a||!t)&&e.jsxs(v,{color:"warning",className:"d-flex align-items-center mb-4",children:[e.jsx(s,{icon:h,size:"lg",className:"me-2"}),"Invalid terms acceptance link. Please use the link sent to your email."]})]}),e.jsxs(R,{className:"d-flex justify-content-end gap-3 bg-light",children:[e.jsxs(l,{color:"success",onClick:T,className:"px-4",disabled:!a||!t||c,children:[c?e.jsx(k,{size:"sm"}):e.jsx(s,{icon:m,className:"me-2"}),"I Accept"]}),e.jsxs(l,{color:"danger",onClick:I,className:"px-4",disabled:!a||!t||c,children:[c?e.jsx(k,{size:"sm"}):e.jsx(s,{icon:C,className:"me-2"}),"I Reject"]})]})]})})})})};export{q as default};
