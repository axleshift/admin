import{r as t,a as p,j as e,k as C}from"./index-B_J4AspD.js";import{C as f}from"./index.esm-Slr6Ep72.js";import{C as u}from"./CAlert-DCoiwrwO.js";import{C as g,a as b,b as l,c as a,d as y,e as r}from"./CTable-4oTXSU5-.js";const N=()=>{const[i,x]=t.useState([]),[m,o]=t.useState(!0),[c,d]=t.useState("");t.useEffect(()=>{h()},[]);const h=async()=>{o(!0),d("");try{const j=(await p.get("https://external-system.com/api/users")).data.map(n=>({...n,name:`${n.firstname} ${n.lastname}`.trim()}));x(j)}catch(s){console.error("Error fetching user data:",s),d("Failed to load user data. Please try again.")}finally{o(!1)}};return e.jsxs(f,{className:"mt-4",children:[e.jsx("h2",{children:"User List"}),c&&e.jsx(u,{color:"danger",children:c}),m?e.jsx("div",{className:"text-center",children:e.jsx(C,{size:"lg"})}):e.jsxs(g,{hover:!0,responsive:!0,children:[e.jsx(b,{children:e.jsxs(l,{children:[e.jsx(a,{children:"Name"}),e.jsx(a,{children:"Email"}),e.jsx(a,{children:"Username"}),e.jsx(a,{children:"Role"}),e.jsx(a,{children:"Status"})]})}),e.jsx(y,{children:i.length>0?i.map(s=>e.jsxs(l,{children:[e.jsx(r,{children:s.name}),e.jsx(r,{children:s.email}),e.jsx(r,{children:s.username}),e.jsx(r,{children:s.role}),e.jsx(r,{children:s.status})]},s.email)):e.jsx(l,{children:e.jsx(r,{colSpan:"5",className:"text-center",children:"No users found."})})})]})]})};export{N as default};
