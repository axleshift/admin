import{j as s}from"./index-BEkeLSf2.js";import{r as i}from"./vendor-react-B6URQkMn.js";import{a as g}from"./axiosInstance-Dv2jt_v_.js";import{F as l,O as y,M as S,a0 as w,a1 as f,a2 as T}from"./index-CqoWsroj.js";import{N as r,O as m,k as v,X as D,l as F,C as M,S as E,af as B,_ as H,$ as I,a0 as x,a1 as j,a2 as $,a3 as n,ag as A}from"./vendor-coreui-DbIDZSkS.js";import"./vendor-redux-DipIbRRz.js";import"./index-t--hEgTQ.js";const X=()=>{const[c,N]=i.useState(null),[p,C]=i.useState(!0),[d,b]=i.useState(null);i.useEffect(()=>{(async()=>{var a;try{const o=await g.get("/core/insight/shipment");N(o.data)}catch(o){b(((a=o.response)==null?void 0:a.data)||"Failed to fetch data")}finally{C(!1)}})()},[]);const t=(()=>{if(!c)return null;const e=typeof c=="string"?JSON.parse(c):c;return{labels:e.labels||[],data:e.data||[]}})(),h=t?t.data.reduce((e,a)=>e+a,0):0,u=t?Math.max(...t.data,1):1;return s.jsx("div",{className:"bg-light min-vh-100 d-flex flex-column",children:s.jsx("div",{className:"py-4",children:s.jsx(r,{children:s.jsx(m,{md:12,children:s.jsxs(v,{className:"mb-4",children:[s.jsx(D,{className:"d-flex justify-content-between align-items-center",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"mb-0",children:[s.jsx(l,{icon:y,className:"me-2"}),"Shipment Insights"]}),s.jsx("small",{className:"text-medium-emphasis",children:"Monthly shipment breakdown"})]})}),s.jsxs(F,{children:[p&&s.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"200px"},children:s.jsx(M,{color:"success"})}),d&&s.jsxs(E,{color:"danger",children:[s.jsx(l,{icon:S,className:"me-2"}),d]}),t&&!p&&!d&&s.jsxs(s.Fragment,{children:[s.jsx(r,{className:"mb-4",children:s.jsxs(m,{md:12,children:[s.jsxs("h4",{className:"mb-3",children:[s.jsx(l,{icon:w,className:"me-2"}),"Monthly Shipments"]}),s.jsx("div",{className:"px-3",children:s.jsx(r,{className:"align-items-end g-0",style:{height:"250px"},children:t.data.map((e,a)=>s.jsx(m,{className:"px-1 text-center",children:s.jsxs("div",{className:"d-flex flex-column align-items-center",children:[s.jsxs("small",{className:"mb-2 fw-bold",children:["$",e.toFixed(2)]}),s.jsx("div",{style:{width:"100%",height:`${e/u*80}%`,minHeight:e>0?"20px":"4px"},children:s.jsx(B,{value:100,color:"success",className:"h-100",style:{minWidth:"25px"}})}),s.jsxs("small",{className:"mt-2 text-medium-emphasis",children:[s.jsx(l,{icon:f,className:"me-1"}),t.labels[a]]})]})},a))})})]})}),s.jsx(r,{children:s.jsxs(m,{md:12,children:[s.jsxs("h4",{className:"mb-3",children:[s.jsx(l,{icon:T,className:"me-2"}),"Shipment Data"]}),s.jsxs(H,{hover:!0,responsive:!0,children:[s.jsx(I,{children:s.jsxs(x,{children:[s.jsx(j,{children:"Month"}),s.jsx(j,{className:"text-end",children:"Shipment "}),s.jsx(j,{className:"text-end",children:"% of Total"})]})}),s.jsx($,{children:t.labels.map((e,a)=>s.jsxs(x,{children:[s.jsxs(n,{children:[s.jsx(l,{icon:f,className:"me-2 text-medium-emphasis"}),e]}),s.jsx(n,{className:"text-end",children:t.data[a].toFixed(2)}),s.jsx(n,{className:"text-end",children:h>0?`${(t.data[a]/h*100).toFixed(1)}%`:"0%"})]},a))}),s.jsx(A,{children:s.jsxs(x,{children:[s.jsx(n,{className:"fw-bold",children:"Total"}),s.jsx(n,{className:"fw-bold text-end",children:h.toFixed(2)}),s.jsx(n,{className:"fw-bold text-end",children:"100%"})]})})]})]})})]})]})]})})})})})};export{X as default};
