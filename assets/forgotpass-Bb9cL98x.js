import{j as e}from"./index-BNY9XZOZ.js";import{r,i as j}from"./vendor-react-B6URQkMn.js";import{F as g,w as y,x as C}from"./index-BSUr8F9F.js";import{a as N}from"./axiosInstance-Ba-EZ9Ua.js";import{g as b,S as v,T as w,o as S,$ as F,p as R,V as E,W as k,Z as L,n as P}from"./vendor-coreui-C9cgcUrA.js";import"./vendor-redux-DipIbRRz.js";const z=()=>{const[n,u]=r.useState(""),[l,s]=r.useState(""),[x,a]=r.useState("info"),[c,o]=r.useState(!1),h=j(),p=i=>{if(i.preventDefault(),o(!0),s(""),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){s("Please enter a valid email address"),a("danger"),o(!1);return}N.post("/general/forgot-password",{email:n}).then(t=>{t.data.message==="Reset link sent to your email"?(s("Reset link sent successfully! Check your email."),a("success"),setTimeout(()=>{h("/login")},2500)):(s("Failed to send reset link. Please try again."),a("danger"))}).catch(t=>{var m,d;console.error(t);const f=((d=(m=t.response)==null?void 0:m.data)==null?void 0:d.message)||"An error occurred. Please try again.";s(f),a("danger")}).finally(()=>{o(!1)})};return e.jsx(b,{className:"min-vh-100 d-flex align-items-center justify-content-center bg-light",children:e.jsx(v,{className:"w-100 justify-content-center",children:e.jsx(w,{md:6,lg:4,children:e.jsxs(S,{className:"shadow-lg border-0",children:[e.jsxs(F,{className:"bg-primary text-white text-center py-3",children:[e.jsx(g,{icon:y,size:"2x",className:"me-2"}),e.jsx("h4",{className:"d-inline align-middle",children:"Forgot Password"})]}),e.jsx(R,{className:"p-4",children:e.jsxs(E,{onSubmit:p,children:[l&&e.jsx(k,{color:x,className:"mb-3",children:l}),e.jsx("div",{className:"mb-3",children:e.jsx(L,{type:"email",placeholder:"Enter your email",floatingLabel:e.jsxs(e.Fragment,{children:[e.jsx(g,{icon:C,className:"me-2"}),"Email Address"]}),value:n,onChange:i=>u(i.target.value),required:!0})}),e.jsx(P,{type:"submit",color:"primary",className:"w-100",disabled:c,children:c?"Sending...":"Send Reset Link"}),e.jsx("div",{className:"text-center mt-3",children:e.jsx("a",{href:"/login",className:"text-decoration-none text-muted",children:"Remember your password? Login"})})]})})]})})})})};export{z as default};
