import{r as C,_ as v,R as i,E as j,G as I,P as s,e as N,f as b,J as T,at as E,j as e,c as y}from"./index-Cskk6QuV.js";import{a as p}from"./index.esm-CbuOHHQi.js";import{C as H}from"./CRow-BtsQEa9i.js";import{C as h}from"./CCol-BpNSW51C.js";import{C as P}from"./CCardHeader-BxjHQWZq.js";import{C as M,a as Z,b as f,c as l,d as A,e as c}from"./CTable-N1HzVlhb.js";import{C as L}from"./DefaultLayout-CPvfNtS9.js";import"./ex-CELXs5B0.js";var u=C.forwardRef(function(a,n){var o=a.children,t=a.className,r=v(a,["children","className"]);return i.createElement("div",j({className:I("card-footer",t)},r,{ref:n}),o)});u.propTypes={children:s.node,className:s.string};u.displayName="CCardFooter";var d=C.forwardRef(function(a,n){var o=a.className,t=a.color,r=a.footer,m=a.icon,g=a.padding,x=g===void 0?!0:g,S=a.title,w=a.value,D=v(a,["className","color","footer","icon","padding","title","value"]);return i.createElement(N,j({className:o},D,{ref:n}),i.createElement(b,{className:"d-flex align-items-center ".concat(x===!1&&"p-0")},i.createElement("div",{className:"me-3 text-white bg-".concat(t," ").concat(x?"p-3":"p-4")},m),i.createElement("div",null,i.createElement("div",{className:"fs-6 fw-semibold text-".concat(t)},w),i.createElement("div",{className:"text-body-secondary text-uppercase fw-semibold small"},S))),r&&i.createElement(u,null,r))});d.propTypes={className:s.string,color:T,footer:s.oneOfType([s.string,s.node]),icon:s.oneOfType([s.string,s.node]),padding:s.bool,title:s.oneOfType([s.string,s.node]),value:s.oneOfType([s.string,s.node,s.number])};d.displayName="CWidgetStatsF";var R=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='271.514 95.5 239.514 95.5 239.514 273.611 355.127 328.559 368.864 299.657 271.514 253.389 271.514 95.5' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M256,16C123.452,16,16,123.452,16,256S123.452,496,256,496,496,388.548,496,256,388.548,16,256,16Zm0,448C141.125,464,48,370.875,48,256S141.125,48,256,48s208,93.125,208,208S370.875,464,256,464Z' class='ci-primary'/>"],F=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M432,64H16V384H432ZM400,352H48V96H400Z' class='ci-primary'/><polygon fill='var(--ci-primary-color, currentColor)' points='464 144 464 416 96 416 96 448 496 448 496 144 464 144' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M224,302.46c39.7,0,72-35.137,72-78.326s-32.3-78.326-72-78.326-72,35.136-72,78.326S184.3,302.46,224,302.46Zm0-124.652c22.056,0,40,20.782,40,46.326s-17.944,46.326-40,46.326-40-20.782-40-46.326S201.944,177.808,224,177.808Z' class='ci-primary'/><rect width='32' height='176' x='80' y='136' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='176' x='336' y='136' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/>"],O=["512 512","<rect width='32' height='176' x='240' y='176' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='240' y='384' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M274.014,16H237.986L16,445.174V496H496V445.174ZM464,464H48V452.959L256,50.826,464,452.959Z' class='ci-primary'/>"];const Q=()=>{const{data:a=[],isLoading:n,error:o}=E(),t=a.length>0?{totalInvoices:a.length,pendingAmount:a.filter(r=>r.paymentStatus==="Pending").reduce((r,m)=>r+m.amountDue,0),overdueinvoices:a.filter(r=>r.paymentStatus==="Pending"&&new Date(r.dueDate)<new Date).length}:{totalInvoices:0,pendingAmount:0,overdueinvoices:0};return n?e.jsx("p",{children:"Loading invoices..."}):o?e.jsxs("p",{children:["Error loading invoices: ",o.message]}):e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"mb-4",children:"Invoice Management"}),e.jsxs(H,{className:"mb-4",children:[e.jsx(h,{sm:6,lg:4,children:e.jsx(d,{icon:e.jsx(p,{icon:F,height:24}),title:"Total Invoices",value:t.totalInvoices.toString(),color:"primary"})}),e.jsx(h,{sm:6,lg:4,children:e.jsx(d,{icon:e.jsx(p,{icon:R,height:24}),title:"Pending Amount",value:`$${t.pendingAmount.toLocaleString()}`,color:"warning"})}),e.jsx(h,{sm:6,lg:4,children:e.jsx(d,{icon:e.jsx(p,{icon:O,height:24}),title:"Overdue Invoices",value:t.overdueinvoices.toString(),color:"danger"})})]}),e.jsxs(N,{children:[e.jsxs(P,{className:"d-flex justify-content-between align-items-center",children:[e.jsx("strong",{children:"Invoices"}),e.jsx(y,{color:"primary",children:"Create Invoice"})]}),e.jsx(b,{children:a.length>0?e.jsxs(M,{hover:!0,responsive:!0,children:[e.jsx(Z,{children:e.jsxs(f,{children:[e.jsx(l,{children:"Invoice ID"}),e.jsx(l,{children:"Customer ID"}),e.jsx(l,{children:"Amount Due"}),e.jsx(l,{children:"Due Date"}),e.jsx(l,{children:"Status"}),e.jsx(l,{children:"Actions"})]})}),e.jsx(A,{children:a.map(r=>e.jsxs(f,{children:[e.jsx(c,{children:r.invoiceId}),e.jsx(c,{children:r.customerId}),e.jsxs(c,{children:["$",r.amountDue.toLocaleString()]}),e.jsx(c,{children:new Date(r.dueDate).toLocaleDateString()}),e.jsx(c,{children:e.jsx(L,{color:r.paymentStatus==="Paid"?"success":"warning",children:r.paymentStatus})}),e.jsx(c,{children:r.paymentStatus==="Pending"&&e.jsx(y,{color:"success",size:"sm",onClick:()=>handleUpdateStatus(r._id,"Paid"),children:"Mark as Paid"})})]},r._id))})]}):e.jsx("p",{className:"text-center",children:"No Data Available"})})]})]})};export{Q as default};
