import{j as t}from"./index-fGDiSkDy.js";import{r as i}from"./vendor-react-BHxUanFt.js";import{a as m}from"./axiosInstance-Bq-uIJjs.js";import"./vendor-redux-CSji-Y9p.js";import"./vendor-coreui-CLDxaGvm.js";import"./index-xsH4HHeE.js";function u(){const[a,d]=i.useState([]),[c,o]=i.useState(!0),[r,l]=i.useState(null);return i.useEffect(()=>{(async()=>{var n;try{const s=await m.get("/incidentreport/incidentall");console.log("API Response:",s.data);const x=Array.isArray(s.data)?s.data:Array.isArray((n=s.data)==null?void 0:n.data)?s.data.data:[];d(x)}catch{l("Failed to fetch incident reports")}finally{o(!1)}})()},[]),t.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 max-w-4xl w-full",children:[t.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"All Incident Reports"}),c&&t.jsx("p",{className:"text-center text-gray-500",children:"Loading..."}),r&&t.jsx("p",{className:"text-center text-red-500",children:r}),!c&&!r&&Array.isArray(a)&&a.length===0&&t.jsx("p",{className:"text-center text-gray-500",children:"No incident reports found."}),!c&&!r&&Array.isArray(a)&&a.length>0&&t.jsx("ul",{className:"divide-y divide-gray-200",children:a.map((e,n)=>t.jsxs("li",{className:"py-4",children:[t.jsx("div",{className:"text-lg font-semibold text-gray-800",children:e.title||"Untitled Report"}),t.jsx("div",{className:"text-sm text-gray-600",children:e.description||"No description provided."}),t.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[t.jsx("strong",{children:"Location:"})," ",e.location||"N/A"," | ",t.jsx("strong",{children:"Severity:"})," ",e.severity||"N/A"," | ",t.jsx("strong",{children:"Status:"})," ",e.status||"N/A"]}),t.jsxs("div",{className:"text-sm text-gray-400",children:["Reported On: ",e.reportDate?new Date(e.reportDate).toLocaleDateString():"Unknown"]})]},n))})]})})}export{u as default};
