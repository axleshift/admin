import{p as m,r as C,u,j as e,C as x,b as j,e as p}from"./index-B_J4AspD.js";import{C as b}from"./customhead-UR91rqGH.js";import{C as f}from"./index.esm-Slr6Ep72.js";import{C as g}from"./CRow-CsDAzqQM.js";import{C as L,a as N,b as t,c as a,d as T,e as s}from"./CTable-4oTXSU5-.js";import{C as w}from"./DefaultLayout-rvCroLYH.js";import"./CCardTitle-PGXrdOob.js";import"./ex-CELXs5B0.js";const $=()=>{const{data:l,isLoading:i,error:n}=m(),[o,c]=C.useState("");if(u(),console.log("Fetched customers:",l),i)return e.jsx("div",{children:"Loading..."});if(n)return e.jsxs("div",{children:["Error: ",n.message]});const h=l.filter(r=>r.name.toLowerCase().includes(o.toLowerCase())||r.email.toLowerCase().includes(o.toLowerCase()));return e.jsx(f,{m:"1.5rem 2.5rem",children:e.jsxs(g,{children:[e.jsx(b,{title:"Customers",subtitle:"List of Customers"}),e.jsx(x,{className:"mb-3",children:e.jsx(j,{placeholder:"Search by Name or Email",value:o,onChange:r=>c(r.target.value)})}),e.jsx(p,{mt:"40px",height:"75vh",children:e.jsxs(L,{striped:!0,bordered:!0,children:[e.jsx(N,{children:e.jsxs(t,{children:[e.jsx(a,{children:"ID"}),e.jsx(a,{children:"Name"}),e.jsx(a,{children:"Email"}),e.jsx(a,{children:"Phone Number"}),e.jsx(a,{children:"Country"})]})}),e.jsx(T,{children:h.map(r=>{var d;return e.jsxs(t,{children:[e.jsx(s,{children:r._id}),e.jsx(s,{children:r.name}),e.jsx(s,{children:r.email}),e.jsx(s,{children:r.phoneNumber?r.phoneNumber.replace(/^(\d{3})(\d{3})(\d{4})/,"($1)$2-$3"):"N/A"}),e.jsx(s,{children:r.country}),e.jsx(s,{children:r.occupation}),e.jsx(s,{children:e.jsx(w,{color:"primary",children:((d=r.role)==null?void 0:d.toLowerCase())==="user"?"User":r.role})})]},r._id)})})]})})]})})};export{$ as default};
