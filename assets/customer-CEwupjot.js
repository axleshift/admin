import{o as h,r as u,u as x,j as e}from"./index-BizKBI6a.js";import{C}from"./customhead-t2LJNxRX.js";import{C as j,a as p,c as b}from"./index.esm-LX8wyrY9.js";import{C as f}from"./CFormInput-BYAzJEzi.js";import{C as g}from"./CCardBody-cs6hLwSm.js";import{C as L,a as N,b as n,c as a,d as T,e as s}from"./CTable-D-tPmOjy.js";import{s as w}from"./DefaultLayout-CnpPbvhY.js";import"./CCardTitle-DUMIo4Tm.js";import"./chatbox-V5kNCwUM.js";import"./cil-magnifying-glass-COgjSVTM.js";import"./CCloseButton-CGgGdGd-.js";import"./index-D8rVyQy1.js";const _=()=>{const{data:l,isLoading:d,error:t}=h(),[o,c]=u.useState("");if(x(),console.log("Fetched customers:",l),d)return e.jsx("div",{children:"Loading..."});if(t)return e.jsxs("div",{children:["Error: ",t.message]});const m=l.filter(r=>r.name.toLowerCase().includes(o.toLowerCase())||r.email.toLowerCase().includes(o.toLowerCase()));return e.jsx(j,{m:"1.5rem 2.5rem",children:e.jsxs(p,{children:[e.jsx(C,{title:"Customers",subtitle:"List of Customers"}),e.jsx(b,{className:"mb-3",children:e.jsx(f,{placeholder:"Search by Name or Email",value:o,onChange:r=>c(r.target.value)})}),e.jsx(g,{mt:"40px",height:"75vh",children:e.jsxs(L,{striped:!0,bordered:!0,children:[e.jsx(N,{children:e.jsxs(n,{children:[e.jsx(a,{children:"ID"}),e.jsx(a,{children:"Name"}),e.jsx(a,{children:"Email"}),e.jsx(a,{children:"Phone Number"}),e.jsx(a,{children:"Country"})]})}),e.jsx(T,{children:m.map(r=>{var i;return e.jsxs(n,{children:[e.jsx(s,{children:r._id}),e.jsx(s,{children:r.name}),e.jsx(s,{children:r.email}),e.jsx(s,{children:r.phoneNumber?r.phoneNumber.replace(/^(\d{3})(\d{3})(\d{4})/,"($1)$2-$3"):"N/A"}),e.jsx(s,{children:r.country}),e.jsx(s,{children:r.occupation}),e.jsx(s,{children:e.jsx(w,{color:"primary",children:((i=r.role)==null?void 0:i.toLowerCase())==="user"?"User":r.role})})]},r._id)})})]})})]})})};export{_ as default};
