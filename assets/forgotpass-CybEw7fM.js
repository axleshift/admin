import{j as e}from"./index-DxMhGMaw.js";import{r,i as f}from"./vendor-react-B6URQkMn.js";import{F as d,r as h,s as j}from"./index-CL47NU8L.js";import{a as y}from"./axiosInstance-Dv2jt_v_.js";import{c as C,N,O as b,k as v,X as w,l as k,R as S,S as F,V as R,j as E}from"./vendor-coreui-BN8uYOBb.js";import"./vendor-redux-C7peqcPR.js";import"./index-t--hEgTQ.js";const z=()=>{const[n,g]=r.useState(""),[c,a]=r.useState(""),[u,t]=r.useState("info"),[m,o]=r.useState(!1),p=f(),x=i=>{if(i.preventDefault(),o(!0),a(""),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){a("Please enter a valid email address"),t("danger"),o(!1);return}y.post("/general/forgot-password",{email:n}).then(s=>{s.data.message==="Reset link sent to your email"?(a("Reset link sent successfully! Check your email inbox and spam folders."),t("success"),setTimeout(()=>{p("/login")},3500)):(a("Failed to send reset link. Please try again."),t("danger"))}).catch(s=>{console.error(s);let l="An error occurred connecting to the server. Please try again later.";s.response&&s.response.data&&s.response.data.message?l=s.response.data.message:s.message==="Network Error"&&(l="Network error. Please check your connection and try again."),a(l),t("danger")}).finally(()=>{o(!1)})};return e.jsx(C,{className:"min-vh-100 d-flex align-items-center justify-content-center bg-light",children:e.jsx(N,{className:"w-100 justify-content-center",children:e.jsx(b,{md:6,lg:4,children:e.jsxs(v,{className:"shadow-lg border-0",children:[e.jsxs(w,{className:"bg-primary text-white text-center py-3",children:[e.jsx(d,{icon:h,size:"2x",className:"me-2"}),e.jsx("h4",{className:"d-inline align-middle",children:"Forgot Password"})]}),e.jsx(k,{className:"p-4",children:e.jsxs(S,{onSubmit:x,children:[c&&e.jsx(F,{color:u,className:"mb-3",children:c}),e.jsx("div",{className:"mb-3",children:e.jsx(R,{type:"email",placeholder:"Enter your email",floatingLabel:e.jsxs(e.Fragment,{children:[e.jsx(d,{icon:j,className:"me-2"}),"Email Address"]}),value:n,onChange:i=>g(i.target.value),required:!0})}),e.jsx(E,{type:"submit",color:"primary",className:"w-100",disabled:m,children:m?"Sending...":"Send Reset Link"})]})})]})})})})};export{z as default};
