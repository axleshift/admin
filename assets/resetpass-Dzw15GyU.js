import{j as s}from"./index-BCB2LN3G.js";import{r as o,i as g,k as C}from"./vendor-react-B6URQkMn.js";import{a as N}from"./axiosInstance-Dv2jt_v_.js";import{F as n,x as P,z as m}from"./index-C9F8SBHO.js";import{c as y,N as b,O as v,k as S,X as F,l as R,R as k,V as u,j as E}from"./vendor-coreui-DbIDZSkS.js";import"./vendor-redux-DipIbRRz.js";import"./index-t--hEgTQ.js";function D(){const[t,p]=o.useState(""),[i,x]=o.useState(""),[c,r]=o.useState(""),h=g(),{id:w,token:j}=C(),f=async e=>{var l,d;if(e.preventDefault(),r(""),t!==i){r("Passwords do not match");return}try{const a=await N.post(`/general/reset-password/${w}/${j}`,{password:t});a.data.Status==="Success"?h("/login"):r(a.data.Message||"Password reset failed")}catch(a){console.error("Error:",a),r(((d=(l=a.response)==null?void 0:l.data)==null?void 0:d.message)||"An error occurred")}};return s.jsx(y,{className:"min-vh-100 d-flex align-items-center justify-content-center bg-light",children:s.jsx(b,{className:"w-100 justify-content-center",children:s.jsx(v,{md:6,lg:4,children:s.jsxs(S,{className:"shadow-lg border-0",children:[s.jsxs(F,{className:"bg-primary text-white text-center py-3",children:[s.jsx(n,{icon:P,size:"2x",className:"me-2"}),s.jsx("h4",{className:"d-inline align-middle",children:"Reset Password"})]}),s.jsx(R,{className:"p-4",children:s.jsxs(k,{onSubmit:f,children:[c&&s.jsx("div",{className:"alert alert-danger mb-3",role:"alert",children:c}),s.jsxs("div",{className:"mb-3",children:[s.jsx(u,{type:"password",placeholder:"New Password",floatingLabel:s.jsxs(s.Fragment,{children:[s.jsx(n,{icon:m,className:"me-2"}),"New Password"]}),value:t,onChange:e=>p(e.target.value),required:!0,className:"mb-3"}),s.jsx(u,{type:"password",placeholder:"Confirm Password",floatingLabel:s.jsxs(s.Fragment,{children:[s.jsx(n,{icon:m,className:"me-2"}),"Confirm Password"]}),value:i,onChange:e=>x(e.target.value),required:!0})]}),s.jsx(E,{type:"submit",color:"primary",className:"w-100",children:"Update Password"})]})})]})})})})}export{D as default};
