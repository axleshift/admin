import{i as v,r as c,k as M,j as s,C as h}from"./index-BizKBI6a.js";import{C as T,a as J}from"./CCardBody-cs6hLwSm.js";import{C as S}from"./CCardHeader-CPTDb0Yp.js";import{C as x,a as p,b as o,c as i,d as j,e as r}from"./CTable-D-tPmOjy.js";import{a as m}from"./CFormInput-BYAzJEzi.js";import{C as A,p as B,q as k,r as E}from"./DefaultLayout-CnpPbvhY.js";import{C as H}from"./CModalTitle-BVpD17ch.js";import"./chatbox-V5kNCwUM.js";import"./index.esm-LX8wyrY9.js";import"./cil-magnifying-glass-COgjSVTM.js";import"./CCloseButton-CGgGdGd-.js";import"./index-D8rVyQy1.js";const q=()=>{const{data:C,error:u,isLoading:b}=v(),[a,t]=c.useState(null),[f,n]=c.useState(!1),{data:l,isLoading:g}=M(a,{skip:!a}),y=e=>{t(e),n(!0)},d=()=>{n(!1),t(null)};return s.jsxs("div",{children:[s.jsxs(T,{className:"mb-4",children:[s.jsx(S,{children:s.jsx("h4",{children:"Job Postings"})}),s.jsx(J,{children:b?s.jsx(h,{color:"primary"}):u?s.jsx("div",{children:"Error loading job postings"}):s.jsxs(x,{striped:!0,hover:!0,children:[s.jsx(p,{children:s.jsxs(o,{children:[s.jsx(i,{children:"Job Title"}),s.jsx(i,{children:"Department"}),s.jsx(i,{children:"Location"}),s.jsx(i,{children:"Status"}),s.jsx(i,{children:"Applications"})]})}),s.jsx(j,{children:C.map(e=>s.jsxs(o,{children:[s.jsx(r,{children:e.title}),s.jsx(r,{children:e.department}),s.jsx(r,{children:e.location}),s.jsx(r,{children:e.status}),s.jsxs(r,{children:[e.applicationsCount," ",s.jsx(m,{color:"info",size:"sm",onClick:()=>y(e._id),children:"View"})]})]},e._id))})]})})]}),s.jsxs(A,{visible:f,onClose:d,children:[s.jsx(B,{children:s.jsx(H,{children:"Applications"})}),s.jsx(k,{children:g?s.jsx(h,{color:"primary"}):l?s.jsxs(s.Fragment,{children:[s.jsxs("h5",{children:["Applicants for ",l.title]}),l.applications&&l.applications.length>0?s.jsxs(x,{striped:!0,hover:!0,children:[s.jsx(p,{children:s.jsxs(o,{children:[s.jsx(i,{children:"Applicant Name"}),s.jsx(i,{children:"Status"})]})}),s.jsx(j,{children:l.applications.map(e=>s.jsxs(o,{children:[s.jsx(r,{children:e.applicantName}),s.jsx(r,{children:e.status})]},e._id))})]}):s.jsx("div",{children:"No applications found for this job."})]}):s.jsx("div",{children:"Error loading job details."})}),s.jsx(E,{children:s.jsx(m,{color:"secondary",onClick:d,children:"Close"})})]})]})};export{q as default};
