import{j as e}from"./index-DGlCYBmm.js";import{r as o}from"./vendor-react-B6URQkMn.js";import{k as g,X as S,l as f,K as A,q as B,r as F,a9 as R,aa as $,ab as k,P as d}from"./vendor-coreui-DDUzhqJ9.js";import{F as h,I as q,a3 as D,a4 as E,a5 as U,N as W,E as L}from"./index-DgWFfLP0.js";import j from"./insightShipment-C1YJ0xzC.js";import M from"./insightCost-BG6a0ClZ.js";import P from"./insightItem-CZnUO1aL.js";import H from"./insightWeight-DUEV5H3v.js";import{l as C}from"./activityLogger-dj-FpP-1.js";import"./vendor-redux-C7peqcPR.js";import"./axiosInstance-Dv2jt_v_.js";import"./index-t--hEgTQ.js";const N=({toast:t,toastMessage:c,setToast:n})=>e.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:1050,minWidth:"250px"},children:e.jsxs(R,{visible:t>0,onClose:()=>n(0),autohide:!0,delay:3e3,className:"border-left-success",children:[e.jsxs($,{closeButton:!0,children:[e.jsx(h,{icon:L,className:"me-2 text-success"}),e.jsx("strong",{className:"me-auto",children:"Success"})]}),e.jsx(k,{children:c})]},t)});N.propTypes={toast:d.number.isRequired,toastMessage:d.string.isRequired,setToast:d.func.isRequired};const se=()=>{const[t,c]=o.useState("shipment"),[n,p]=o.useState(0),[y,I]=o.useState(""),[x,l]=o.useState(!1),a=localStorage.getItem("role"),r=localStorage.getItem("department"),i=localStorage.getItem("name"),m=localStorage.getItem("userId"),v=[{id:"shipment",label:"Shipment",icon:D,color:"success"},{id:"cost",label:"Cost",icon:E,color:"primary"},{id:"weight",label:"Weight",icon:U,color:"warning"},{id:"item",label:"Item",icon:W,color:"purple"}];o.useEffect(()=>{m&&i&&a&&r&&(C({name:i,role:a,department:r,route:"/insights",action:"Page Visit",description:"User visited the analytics dashboard"}).catch(console.warn),setTimeout(()=>{l(!0),u(`${t.charAt(0).toUpperCase()+t.slice(1)} data has been successfully fetched`)},1e3))},[m,i,a,r,t]);const u=s=>{I(s),p(w=>w+1)},b=s=>{c(s),l(!1),m&&i&&a&&r&&C({name:i,role:a,department:r,route:"/insights",action:"Tab Change",description:`User viewed ${s} analytics`}).catch(console.warn),setTimeout(()=>{l(!0),u(`${s.charAt(0).toUpperCase()+s.slice(1)} data has been successfully fetched`)},800)},T=()=>{switch(t){case"shipment":return e.jsx(j,{});case"cost":return e.jsx(M,{});case"weight":return e.jsx(H,{});case"item":return e.jsx(P,{});default:return e.jsx(j,{})}};return e.jsxs(e.Fragment,{children:[e.jsx(N,{toast:n,toastMessage:y,setToast:p}),e.jsxs(g,{className:"mb-4",children:[e.jsxs(S,{className:"d-flex align-items-center",children:[e.jsx(h,{icon:q,className:"me-2 text-primary"}),e.jsx("span",{className:"fw-bold",children:"Analytics Dashboard"})]}),e.jsxs(f,{children:[e.jsx(A,{variant:"pills",className:"mb-4",children:v.map(s=>e.jsx(B,{children:e.jsxs(F,{active:t===s.id,onClick:()=>b(s.id),className:`d-flex align-items-center ${t===s.id?`bg-${s.color} text-white`:""}`,style:{cursor:"pointer",margin:"0 0.25rem"},children:[e.jsx(h,{icon:s.icon,className:"me-2"}),s.label]})},s.id))}),!x&&e.jsxs("div",{className:"text-center py-3",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),e.jsx("p",{className:"mt-2",children:"Fetching data..."})]}),e.jsx(g,{className:"border-0 shadow-sm",children:e.jsx(f,{children:x&&T()})})]})]})]})};export{se as default};
