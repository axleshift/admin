import{j as e}from"./index-C_p2WIB1.js";import{r as o}from"./vendor-react-P0hRR2W0.js";import{d as g,n as S,e as f,_ as A,$,a0 as B,H as F,I as R,J as D,P as d}from"./vendor-coreui-pds89uUO.js";import{F as h,y as U,_ as W,$ as k,a0 as q,A as E,i as H}from"./index-D0KVb9r2.js";import j from"./insightShipment-R9M26fyV.js";import L from"./insightCost-sMrS4lvH.js";import M from"./insightItem-CvIgMixC.js";import P from"./insightWeight-BdvepgSD.js";import{l as C}from"./activityLogger-D6Lc4RsL.js";import"./vendor-redux-BXoDUiID.js";import"./axiosInstance-Bq-uIJjs.js";import"./index-xsH4HHeE.js";const y=({toast:t,toastMessage:c,setToast:n})=>e.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:1050,minWidth:"250px"},children:e.jsxs(F,{visible:t>0,onClose:()=>n(0),autohide:!0,delay:3e3,className:"border-left-success",children:[e.jsxs(R,{closeButton:!0,children:[e.jsx(h,{icon:H,className:"me-2 text-success"}),e.jsx("strong",{className:"me-auto",children:"Success"})]}),e.jsx(D,{children:c})]},t)});y.propTypes={toast:d.number.isRequired,toastMessage:d.string.isRequired,setToast:d.func.isRequired};const se=()=>{const[t,c]=o.useState("shipment"),[n,p]=o.useState(0),[N,I]=o.useState(""),[x,l]=o.useState(!1),a=localStorage.getItem("role"),r=localStorage.getItem("department"),i=localStorage.getItem("name"),m=localStorage.getItem("userId"),v=[{id:"shipment",label:"Shipment",icon:W,color:"success"},{id:"cost",label:"Cost",icon:k,color:"primary"},{id:"weight",label:"Weight",icon:q,color:"warning"},{id:"item",label:"Item",icon:E,color:"purple"}];o.useEffect(()=>{m&&i&&a&&r&&(C({name:i,role:a,department:r,route:"/insights",action:"Page Visit",description:"User visited the analytics dashboard"}).catch(console.warn),setTimeout(()=>{l(!0),u(`${t.charAt(0).toUpperCase()+t.slice(1)} data has been successfully fetched`)},1e3))},[m,i,a,r,t]);const u=s=>{I(s),p(w=>w+1)},b=s=>{c(s),l(!1),m&&i&&a&&r&&C({name:i,role:a,department:r,route:"/insights",action:"Tab Change",description:`User viewed ${s} analytics`}).catch(console.warn),setTimeout(()=>{l(!0),u(`${s.charAt(0).toUpperCase()+s.slice(1)} data has been successfully fetched`)},800)},T=()=>{switch(t){case"shipment":return e.jsx(j,{});case"cost":return e.jsx(L,{});case"weight":return e.jsx(P,{});case"item":return e.jsx(M,{});default:return e.jsx(j,{})}};return e.jsxs(e.Fragment,{children:[e.jsx(y,{toast:n,toastMessage:N,setToast:p}),e.jsxs(g,{className:"mb-4",children:[e.jsxs(S,{className:"d-flex align-items-center",children:[e.jsx(h,{icon:U,className:"me-2 text-primary"}),e.jsx("span",{className:"fw-bold",children:"Analytics Dashboard"})]}),e.jsxs(f,{children:[e.jsx(A,{variant:"pills",className:"mb-4",children:v.map(s=>e.jsx($,{children:e.jsxs(B,{active:t===s.id,onClick:()=>b(s.id),className:`d-flex align-items-center ${t===s.id?`bg-${s.color} text-white`:""}`,style:{cursor:"pointer",margin:"0 0.25rem"},children:[e.jsx(h,{icon:s.icon,className:"me-2"}),s.label]})},s.id))}),!x&&e.jsxs("div",{className:"text-center py-3",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),e.jsx("p",{className:"mt-2",children:"Fetching data..."})]}),e.jsx(g,{className:"border-0 shadow-sm",children:e.jsx(f,{children:x&&T()})})]})]})]})};export{se as default};
