import{i as f,j as e}from"./index-CuADKcYS.js";import{r as a}from"./vendor-react-BHxUanFt.js";import{C as g}from"./customhead-CU34ta_s.js";import{O as j}from"./overviewChart-3rb6cUJM.js";import{a as l,b as m,d as C,n as S,e as I,P as b}from"./vendor-coreui-DaIzHuu_.js";import{l as i}from"./activityLogger-D6Lc4RsL.js";import"./vendor-redux-CSji-Y9p.js";import"./generateCategoricalChart-Cg1fAJrq.js";import"./DefaultLayout-cD_SvmnY.js";import"./yearly-C4XICPYG.js";import"./cil-magnifying-glass-COgjSVTM.js";import"./permissionConfig-BggtT3I0.js";import"./index-fF0KaNX5.js";import"./index-xsH4HHeE.js";import"./LineChart-BYvjNwQt.js";import"./axiosInstance-Bq-uIJjs.js";const E=({isDashboard:t=!1})=>{const[n,c]=a.useState("units"),[r,p]=a.useState({name:"",role:"",department:"",userId:""}),{data:v,isLoading:u,error:w}=f();a.useEffect(()=>{const s=sessionStorage.getItem("name"),o=sessionStorage.getItem("role"),d=sessionStorage.getItem("department"),x=sessionStorage.getItem("userId");p({name:s,role:o,department:d,userId:x}),i({name:s,role:o,department:d,route:t?"/dashboard":"/overview",action:"View Finance Overview",description:`User accessed the finance overview ${t?"on dashboard":"page"}`})},[t]);const h=s=>{const o=s.target.value;c(o),i({name:r.name,role:r.role,department:r.department,route:t?"/dashboard":"/overview",action:"Change View",description:`User changed finance overview view to: ${o}`})};return u?e.jsx("div",{children:"Loading..."}):w?(i({name:r.name,role:r.role,department:r.department,route:t?"/dashboard":"/overview",action:"Error",description:"Error occurred while loading finance overview data"}),e.jsx("div",{children:"Error loading data"})):e.jsx(l,{children:e.jsx(m,{xs:12,md:12,children:e.jsxs(C,{children:[e.jsx(S,{children:e.jsx(g,{title:"Overview",subtitle:"Overview of general revenue and profit"})}),e.jsxs(I,{children:[e.jsx(l,{className:"mb-3",children:e.jsxs(m,{xs:12,md:6,children:[e.jsx("label",{htmlFor:"viewSelect",children:"View"}),e.jsxs("select",{id:"viewSelect",value:n,onChange:h,className:"form-select","aria-label":"Select view",children:[e.jsx("option",{value:"sales",children:"Sales"}),e.jsx("option",{value:"units",children:"Units"})]})]})}),e.jsx(j,{view:n,salesData:v})]})]})})})};E.propTypes={isDashboard:b.bool};export{E as default};
