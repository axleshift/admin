import{e as u,j as e}from"./index-DPEaZ_iK.js";import{r as p}from"./vendor-react-BHxUanFt.js";import{l as d}from"./activityLogger-D6Lc4RsL.js";import{d as g,n as x,e as j,r as f,s as C,t as l,u as i,v as A,w as a}from"./vendor-coreui-DaIzHuu_.js";import"./vendor-redux-CSji-Y9p.js";import"./axiosInstance-Bq-uIJjs.js";import"./index-xsH4HHeE.js";const y=()=>{const{data:r,error:o,isLoading:c}=u();p.useEffect(()=>{const t=sessionStorage.getItem("name"),s=sessionStorage.getItem("role"),n=sessionStorage.getItem("department");d({name:t,role:s,department:n,route:"/finance/freight-audits",action:"View Freight Audits",description:"User accessed the freight audit data table"}),o&&d({name:t,role:s,department:n,route:"/finance/freight-audits",action:"Error",description:`Error occurred while loading freight audit data: ${o.message}`}),r&&!c&&d({name:t,role:s,department:n,route:"/finance/freight-audits",action:"Data Loaded",description:`Successfully loaded ${r.length} freight audit records`})},[r,o,c]);const h=t=>{const s=sessionStorage.getItem("name"),n=sessionStorage.getItem("role"),m=sessionStorage.getItem("department");d({name:s,role:n,department:m,route:"/finance/freight-audits",action:"View Audit Details",description:`User viewed details for shipment ID: ${t.shipmentId}`}),console.log("Audit details:",t)};return c?e.jsx("p",{children:"Loading freight audits..."}):o?e.jsxs("p",{children:["Error fetching data: ",o.message]}):e.jsxs(g,{children:[e.jsx(x,{children:e.jsx("h3",{children:"Freight Audit Data"})}),e.jsx(j,{children:e.jsxs(f,{striped:!0,hover:!0,children:[e.jsx(C,{children:e.jsxs(l,{children:[e.jsx(i,{scope:"col",children:"Shipment ID"}),e.jsx(i,{scope:"col",children:"Audit Date"}),e.jsx(i,{scope:"col",children:"Carrier Name"}),e.jsx(i,{scope:"col",children:"Audit Status"}),e.jsx(i,{scope:"col",children:"Amount Charged"}),e.jsx(i,{scope:"col",children:"Amount Paid"})]})}),e.jsx(A,{children:(r==null?void 0:r.length)>0?r.map((t,s)=>e.jsxs(l,{onClick:()=>h(t),style:{cursor:"pointer"},children:[e.jsx(a,{children:t.shipmentId}),e.jsx(a,{children:new Date(t.auditDate).toLocaleDateString()}),e.jsx(a,{children:t.carrierName}),e.jsx(a,{children:t.auditStatus}),e.jsxs(a,{children:["$",t.amountCharged.toFixed(2)]}),e.jsxs(a,{children:["$",t.amountPaid.toFixed(2)]})]},s)):e.jsx(l,{children:e.jsx(a,{colSpan:"6",className:"text-center",children:"No Freight Audits Available"})})})]})})]})};export{y as default};
