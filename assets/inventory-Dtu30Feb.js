import{j as e}from"./index-Ngt4IgIB.js";import{r as o}from"./vendor-react-B6URQkMn.js";import{a as v}from"./axiosInstance-CKhgb2PG.js";import{F as a,aH as N,O as S,U as c,E as b,H as u,o as w,N as k}from"./index-BPaG30GW.js";import{S as I,T,o as E,$ as L,p as B,W as f,d as D,a1 as H,a2 as A,a3 as p,a4 as n,a5 as F,a6 as r,D as R}from"./vendor-coreui-C9cgcUrA.js";import"./vendor-redux-DipIbRRz.js";const K=()=>{const[l,y]=o.useState([]),[t,i]=o.useState(!0),[d,x]=o.useState(null),C=async()=>{try{return(await v.get("logistics/inventory")).data}catch(s){throw console.error("Error fetching inventory:",s),s}},g=s=>{const m={"In Stock":{color:"success",icon:k},"Low Stock":{color:"warning",icon:c},"Out of Stock":{color:"danger",icon:c},default:{color:"info",icon:u}},j=m[s]||m.default;return e.jsxs(R,{color:j.color,className:"ms-2 px-2 py-1",children:[e.jsx(a,{icon:j.icon,className:"me-1"})," ",s]})},h=async()=>{i(!0);try{const s=await C();y(s),x(null)}catch{x("Failed to fetch inventory. Please try again later.")}finally{i(!1)}};return o.useEffect(()=>{h()},[]),e.jsx(I,{children:e.jsx(T,{xs:12,children:e.jsxs(E,{className:"mb-4",children:[e.jsxs(L,{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx(a,{icon:N,className:"me-2"}),e.jsx("strong",{children:"Inventory Management"})]}),e.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:h,disabled:t,children:[e.jsx(a,{icon:S,className:t?"fa-spin me-1":"me-1"}),"Refresh"]})]}),e.jsxs(B,{children:[d&&e.jsxs(f,{color:"danger",children:[e.jsx(a,{icon:c,className:"me-2"}),d]}),t?e.jsxs("div",{className:"text-center p-5",children:[e.jsx(D,{color:"primary"}),e.jsx("div",{className:"mt-3",children:"Loading inventory data..."})]}):e.jsx(e.Fragment,{children:l.length===0?e.jsxs(f,{color:"info",children:[e.jsx(a,{icon:b,className:"me-2"}),"No inventory items found"]}):e.jsxs(H,{hover:!0,responsive:!0,striped:!0,className:"border",children:[e.jsx(A,{color:"light",children:e.jsxs(p,{children:[e.jsxs(n,{scope:"col",children:[e.jsx(a,{icon:u,className:"me-2"}),"SKU"]}),e.jsx(n,{scope:"col",children:"Quantity"}),e.jsx(n,{scope:"col",children:"Stock Level"}),e.jsx(n,{scope:"col",children:"Status"}),e.jsxs(n,{scope:"col",children:[e.jsx(a,{icon:w,className:"me-2"}),"Created Date"]})]})}),e.jsx(F,{children:l.map(s=>e.jsxs(p,{children:[e.jsx(r,{children:s.sku}),e.jsx(r,{children:s.quantity}),e.jsx(r,{children:s.stock_level}),e.jsx(r,{children:g(s.status)}),e.jsx(r,{children:new Date(s.createdAt).toLocaleDateString()})]},s._id))})]})})]})]})})})};export{K as default};
