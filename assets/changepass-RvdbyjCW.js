import{j as s}from"./index-Creopves.js";import{r,i as y}from"./vendor-react-B6URQkMn.js";import{g as N,S,T as v,o as b,p as I,V as M,X as n,Y as c,s as l,Z as i,n as q}from"./vendor-coreui-C9cgcUrA.js";import{a as E}from"./axiosInstance-z6yTqPqm.js";import{c as d}from"./cil-lock-locked-DmxpJbVL.js";import"./vendor-redux-DipIbRRz.js";const L=()=>{const[u,x]=r.useState(""),[a,g]=r.useState(""),[p,j]=r.useState(""),[m,t]=r.useState(null),[h,C]=r.useState(null),w=y(),f=async e=>{e.preventDefault();const P=localStorage.getItem("email");if(a!==p){t("New passwords do not match.");return}try{(await E.put("/client/change-password",{email:P,currentPassword:u,newPassword:a})).data.success&&(C("Password changed successfully!"),setTimeout(()=>{w("/settings")},2e3))}catch(o){o.response?t(o.response.data.message||"An error occurred. Please try again."):t("An error occurred. Please try again later.")}};return s.jsx(N,{children:s.jsx(S,{className:"justify-content-center",children:s.jsx(v,{md:6,children:s.jsx(b,{children:s.jsxs(I,{children:[s.jsx("h1",{children:"Change Password"}),m&&s.jsx("p",{style:{color:"red"},children:m}),h&&s.jsx("p",{style:{color:"green"},children:h}),s.jsxs(M,{onSubmit:f,children:[s.jsxs(n,{className:"mb-3",children:[s.jsx(c,{children:s.jsx(l,{icon:d})}),s.jsx(i,{type:"password",placeholder:"Current Password",value:u,onChange:e=>x(e.target.value),required:!0})]}),s.jsxs(n,{className:"mb-4",children:[s.jsx(c,{children:s.jsx(l,{icon:d})}),s.jsx(i,{type:"password",placeholder:"New Password",value:a,onChange:e=>g(e.target.value),required:!0})]}),s.jsxs(n,{className:"mb-4",children:[s.jsx(c,{children:s.jsx(l,{icon:d})}),s.jsx(i,{type:"password",placeholder:"Confirm New Password",value:p,onChange:e=>j(e.target.value),required:!0})]}),s.jsx(q,{type:"submit",color:"primary",className:"px-4",children:"Change Password"})]})]})})})})})};export{L as default};
