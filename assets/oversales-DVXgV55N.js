import{J as f,j as e}from"./index-LTk6a6su.js";import{r as a}from"./vendor-react-B6URQkMn.js";import{C as g}from"./customhead-Ctz-mk7y.js";import{O as j}from"./overviewChart-CXQF_Sqr.js";import{S as l,T as m,o as C,$ as S,p as I,P as b}from"./vendor-coreui-BDhfDOiu.js";import{l as i}from"./activityLogger-CvJr0rqh.js";import"./vendor-redux-DipIbRRz.js";import"./generateCategoricalChart-B77dClfw.js";import"./DefaultLayout-v7JxHHUK.js";import"./Page500-BFlIZRQ6.js";import"./cil-magnifying-glass-COgjSVTM.js";import"./permissionConfig-DLItbach.js";import"./index-D-k-o6LC.js";import"./LineChart-D6iCEsQ8.js";import"./axiosInstance-Ct62cgtD.js";const E=({isDashboard:t=!1})=>{const[n,c]=a.useState("units"),[r,p]=a.useState({name:"",role:"",department:"",userId:""}),{data:v,isLoading:u,error:w}=f();a.useEffect(()=>{const s=sessionStorage.getItem("name"),o=sessionStorage.getItem("role"),d=sessionStorage.getItem("department"),x=sessionStorage.getItem("userId");p({name:s,role:o,department:d,userId:x}),i({name:s,role:o,department:d,route:t?"/dashboard":"/overview",action:"View Finance Overview",description:`User accessed the finance overview ${t?"on dashboard":"page"}`})},[t]);const h=s=>{const o=s.target.value;c(o),i({name:r.name,role:r.role,department:r.department,route:t?"/dashboard":"/overview",action:"Change View",description:`User changed finance overview view to: ${o}`})};return u?e.jsx("div",{children:"Loading..."}):w?(i({name:r.name,role:r.role,department:r.department,route:t?"/dashboard":"/overview",action:"Error",description:"Error occurred while loading finance overview data"}),e.jsx("div",{children:"Error loading data"})):e.jsx(l,{children:e.jsx(m,{xs:12,md:12,children:e.jsxs(C,{children:[e.jsx(S,{children:e.jsx(g,{title:"Overview",subtitle:"Overview of general revenue and profit"})}),e.jsxs(I,{children:[e.jsx(l,{className:"mb-3",children:e.jsxs(m,{xs:12,md:6,children:[e.jsx("label",{htmlFor:"viewSelect",children:"View"}),e.jsxs("select",{id:"viewSelect",value:n,onChange:h,className:"form-select","aria-label":"Select view",children:[e.jsx("option",{value:"sales",children:"Sales"}),e.jsx("option",{value:"units",children:"Units"})]})]})}),e.jsx(j,{view:n,salesData:v})]})]})})})};E.propTypes={isDashboard:b.bool};export{E as default};
