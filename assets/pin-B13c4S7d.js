import{k as b,l as L,j as e}from"./index-C_p2WIB1.js";import{r as n}from"./vendor-react-P0hRR2W0.js";import{a as f}from"./index-xsH4HHeE.js";import"./vendor-redux-BXoDUiID.js";import"./vendor-coreui-pds89uUO.js";const T=()=>{const[i,g]=n.useState(""),[h,m]=n.useState(!1),[r,c]=n.useState(""),[o,a]=n.useState(""),{data:l,error:d,isLoading:x}=b(),{data:t,error:u,isLoading:p}=L(i,{skip:!h||!i}),j=()=>{m(!0)},k=()=>{t&&r?(f.post("https://backend-admin.axleshift.com/logix/send-logistics-email",{email:r,currentLocation:t.currentLocation}).then(s=>{s.data.message==="Email sent successfully"?a("Email sent successfully! Check your inbox."):a("Failed to send email. Please try again.")}).catch(s=>{a("An error occurred while sending the email."),console.error(s)}),c("")):a("Please select a tracking number and enter your email.")};return e.jsxs("div",{children:[e.jsx("h2",{children:"Track Your Logistics"}),x&&e.jsx("p",{children:"Loading tracking numbers..."}),d&&e.jsxs("p",{children:["Error fetching logistics: ",d.message]}),l&&e.jsxs("select",{value:i,onChange:s=>g(s.target.value),placeholder:"Select Tracking Number",children:[e.jsx("option",{value:"",children:"Select Tracking Number"}),l.map(s=>e.jsx("option",{value:s.trackingNumber,children:s.trackingNumber},s.trackingNumber))]}),e.jsx("button",{onClick:j,disabled:!i,children:"Search"}),p&&e.jsx("p",{children:"Loading logistics data..."}),u&&e.jsxs("p",{children:["Error fetching logistics: ",u.message]}),t&&e.jsxs("div",{children:[e.jsx("h3",{children:"Current Location:"}),e.jsx("p",{children:t.currentLocation||"Location not available"}),e.jsxs("div",{children:[e.jsx("input",{type:"email",value:r,onChange:s=>c(s.target.value),placeholder:"Enter your email"}),e.jsx("button",{onClick:k,disabled:!r,children:"Send Location"})]}),o&&e.jsx("p",{children:o})," "]})]})};export{T as default};
