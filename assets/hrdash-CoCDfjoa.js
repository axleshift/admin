import{h as S,i as R,j as s}from"./index-DehEVgH0.js";import{r as t}from"./vendor-react-B6URQkMn.js";import{F as h,y as x}from"./index-awhlclXR.js";import{A as v,S as j}from"./AnnouncementList-Hl44fLlw.js";import{C as q}from"./customhead-DzvM9Pfq.js";import{a as m}from"./axiosInstance-Dv2jt_v_.js";import{c as P,N as a,O as r,k as u}from"./vendor-coreui-DHT2NCDT.js";import"./vendor-redux-DipIbRRz.js";import"./cil-chevron-right-DSvcss7_.js";import"./index-t--hEgTQ.js";const Q=()=>{const{data:n,error:p,isLoading:f}=S(),{data:i,error:g,isLoading:b}=R(),[y,C]=t.useState(0),[l,N]=t.useState([]),[L,o]=t.useState(!0),[E,c]=t.useState(null);return t.useEffect(()=>{o(!0),m.get("/hr/leaveRequest").then(e=>C(e.data.count||0)).catch(e=>c(e)).finally(()=>o(!1)),m.get("/hr/payroll").then(e=>N(e.data||[])).catch(e=>c(e)).finally(()=>o(!1))},[]),f||b||L?s.jsx("p",{children:"Loading..."}):p||g||E?s.jsx("p",{children:"Error fetching data"}):s.jsxs(P,{fluid:!0,className:"p-3",children:[s.jsx(a,{children:s.jsxs(r,{xs:12,children:[s.jsx(q,{title:"HR Dashboard",subtitle:"Welcome to the HR Dashboard"}),s.jsx(v,{})]})}),s.jsxs(a,{className:"my-3",children:[s.jsx(r,{xs:12,lg:6,className:"mb-3",children:s.jsx(j,{title:"Total Employees",value:n==null?void 0:n.totalWorkers,description:"Since last month",icon:s.jsx(h,{icon:x})})}),s.jsx(r,{xs:12,lg:6,className:"mb-3",children:s.jsx(j,{title:"Leave Requests",value:y,description:"Total pending requests",icon:s.jsx(h,{icon:x})})})]}),s.jsx(a,{children:s.jsx(r,{xs:12,lg:6,children:s.jsxs(u,{children:[s.jsx("h5",{className:"p-3",children:"Job Postings"}),s.jsxs("table",{className:"table table-striped",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Job Title"}),s.jsx("th",{children:"Department"}),s.jsx("th",{children:"Location"}),s.jsx("th",{children:"Status"})]})}),s.jsx("tbody",{children:i==null?void 0:i.map((e,d)=>s.jsxs("tr",{children:[s.jsx("td",{children:e.title}),s.jsx("td",{children:e.department}),s.jsx("td",{children:e.location}),s.jsx("td",{children:e.status})]},d))})]})]})})}),s.jsx(a,{children:s.jsx(r,{xs:12,children:s.jsxs(u,{children:[s.jsx("h5",{className:"p-3",children:"Payroll"}),s.jsxs("table",{className:"table table-striped",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Salary"})]})}),s.jsx("tbody",{children:l==null?void 0:l.map((e,d)=>s.jsxs("tr",{children:[s.jsx("td",{children:e.name}),s.jsx("td",{children:e.salary||"N/A"})]},d))})]})]})})})]})};export{Q as default};
