import{r as a,j as e,C as j}from"./index-BizKBI6a.js";import{a as v}from"./index-D8rVyQy1.js";import{C as y,a as k,b as M}from"./index.esm-LX8wyrY9.js";import{C as E,a as S}from"./CCardBody-cs6hLwSm.js";import{C as N}from"./CCardHeader-CPTDb0Yp.js";import{C as A}from"./CForm-tPETyldd.js";import{C as L}from"./CFormSelect-BBQbi0Yz.js";import{C as I,a as w}from"./CFormInput-BYAzJEzi.js";const P=()=>{const[l,x]=a.useState(""),[i,g]=a.useState("achievement"),[m,u]=a.useState(""),[h,p]=a.useState(!1),[n,f]=a.useState(!1);a.useEffect(()=>{const r=()=>{const s=window.matchMedia("(prefers-color-scheme: dark)").matches,d=localStorage.getItem("darkMode")==="true"||document.body.classList.contains("dark-mode");f(d!==null?d:s)};r();const t=window.matchMedia("(prefers-color-scheme: dark)"),c=s=>{localStorage.getItem("darkMode")===null&&!document.body.classList.contains("dark-mode")&&f(s.matches)};t.addEventListener?t.addEventListener("change",c):t.addListener(c);const C=new MutationObserver(s=>{s.forEach(d=>{d.attributeName==="class"&&r()})});return C.observe(document.body,{attributes:!0}),()=>{t.removeEventListener?t.removeEventListener("change",c):t.removeListener(c),C.disconnect()}},[]);const b=async()=>{if(l.trim()){p(!0);try{const r=await v.post("http://localhost:5053/admin/generate",{input:l,type:i});u(r.data.announcement)}catch(r){console.error("Error generating announcement",r),u("Error generating announcement. Please try again.")}finally{p(!1)}}},o={card:{backgroundColor:n?"#1e2837":null,color:n?"#e1e7ef":null,borderColor:n?"#374151":null},cardHeader:{backgroundColor:n?"#2d3748":null,color:n?"#e1e7ef":null,borderColor:n?"#374151":null},formInput:{backgroundColor:n?"#374151":null,color:n?"#e1e7ef":null,borderColor:n?"#4b5563":null},announcement:{backgroundColor:n?"#2d3748":"#f9fafb",color:n?"#e1e7ef":"#1f2937",padding:"15px",borderRadius:"4px",marginTop:"15px"}};return e.jsx(y,{children:e.jsx(k,{className:"justify-content-center",children:e.jsx(M,{md:"8",children:e.jsxs(E,{style:o.card,children:[e.jsx(N,{style:o.cardHeader,children:e.jsx("strong",{children:"Announcement Center"})}),e.jsxs(S,{children:[e.jsxs(A,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Announcement Type"}),e.jsxs(L,{"aria-label":"Select Announcement For",value:i,onChange:r=>g(r.target.value),style:o.formInput,children:[e.jsx("option",{value:"achievement",children:"Achievement"}),e.jsx("option",{value:"event",children:"Event"}),e.jsx("option",{value:"product",children:"Product"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Details"}),e.jsx(I,{type:"text",placeholder:"Enter details for your announcement",value:l,onChange:r=>x(r.target.value),style:o.formInput})]}),e.jsx(w,{color:n?"light":"primary",onClick:b,disabled:h||!l.trim(),children:h?e.jsxs(e.Fragment,{children:[e.jsx(j,{size:"sm",className:"me-2"}),"Generating..."]}):"Generate Announcement"})]}),m&&e.jsxs("div",{style:o.announcement,className:"mt-3",children:[e.jsx("h4",{className:n?"text-light":"text-dark",children:"Generated Announcement:"}),e.jsx("p",{className:"mb-0",children:m})]})]})]})})})})};export{P as default};
