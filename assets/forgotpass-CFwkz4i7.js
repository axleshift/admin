import{j as e}from"./index-BA9i51uk.js";import{r,u as j}from"./vendor-react-BHxUanFt.js";import{F as g,f as y,a as C}from"./index-BbcC8ntF.js";import{a as N}from"./axiosInstance-Bq-uIJjs.js";import{C as b,a as v,b as w,d as F,n as R,e as S,f as k,g as E,k as L,l as P}from"./vendor-coreui-blXmWd_E.js";import"./vendor-redux-CSji-Y9p.js";import"./index-xsH4HHeE.js";const H=()=>{const[n,u]=r.useState(""),[l,s]=r.useState(""),[x,a]=r.useState("info"),[c,i]=r.useState(!1),h=j(),p=o=>{if(o.preventDefault(),i(!0),s(""),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){s("Please enter a valid email address"),a("danger"),i(!1);return}N.post("/general/forgot-password",{email:n},{withCredentials:!0}).then(t=>{t.data.message==="Reset link sent to your email"?(s("Reset link sent successfully! Check your email."),a("success"),setTimeout(()=>{h("/login")},2500)):(s("Failed to send reset link. Please try again."),a("danger"))}).catch(t=>{var m,d;console.error(t);const f=((d=(m=t.response)==null?void 0:m.data)==null?void 0:d.message)||"An error occurred. Please try again.";s(f),a("danger")}).finally(()=>{i(!1)})};return e.jsx(b,{className:"min-vh-100 d-flex align-items-center justify-content-center bg-light",children:e.jsx(v,{className:"w-100 justify-content-center",children:e.jsx(w,{md:6,lg:4,children:e.jsxs(F,{className:"shadow-lg border-0",children:[e.jsxs(R,{className:"bg-primary text-white text-center py-3",children:[e.jsx(g,{icon:y,size:"2x",className:"me-2"}),e.jsx("h4",{className:"d-inline align-middle",children:"Forgot Password"})]}),e.jsx(S,{className:"p-4",children:e.jsxs(k,{onSubmit:p,children:[l&&e.jsx(E,{color:x,className:"mb-3",children:l}),e.jsx("div",{className:"mb-3",children:e.jsx(L,{type:"email",placeholder:"Enter your email",floatingLabel:e.jsxs(e.Fragment,{children:[e.jsx(g,{icon:C,className:"me-2"}),"Email Address"]}),value:n,onChange:o=>u(o.target.value),required:!0})}),e.jsx(P,{type:"submit",color:"primary",className:"w-100",disabled:c,children:c?"Sending...":"Send Reset Link"}),e.jsx("div",{className:"text-center mt-3",children:e.jsx("a",{href:"/login",className:"text-decoration-none text-muted",children:"Remember your password? Login"})})]})})]})})})})};export{H as default};
